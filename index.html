<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Roue - Une seule chance</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body class="bg-gray-900 text-white flex flex-col items-center justify-center min-h-screen font-sans p-6">

<!-- Titre et description -->
<div class="grid grid-cols-1 sm:grid-cols-2 gap-4 w-full max-w-4xl mb-8">
  <div class="flex justify-center sm:justify-start p-4">
    <img src="wwwwwqqqq.jpg" alt="Image Jeu" class="w-32 h-auto rounded-lg shadow-md">
  </div>
  <div class="flex flex-col justify-center p-4 text-center sm:text-left">
    <h1 class="text-2xl sm:text-3xl font-bold mb-2">Lancer la roue et regarde ce que tu gagnes</h1>
    <h2 class="text-lg font-medium text-gray-300">Attention, 1 jeu possible</h2>
  </div>
</div>

<!-- Roue -->
<div class="relative w-72 h-72 mb-6">
  <div class="absolute -top-6 left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-[15px] border-l-transparent border-r-[15px] border-r-transparent border-b-[25px] border-b-white"></div>
  <div id="wheel" 
       class="w-full h-full rounded-full border-4 border-white transition-transform duration-[4000ms] ease-out"
       style="background: conic-gradient(
         #f97316 0deg 60deg,
         #facc15 60deg 120deg,
         #22c55e 120deg 180deg,
         #3b82f6 180deg 240deg,
         #a855f7 240deg 300deg,
         #ef4444 300deg 360deg
       );">
  </div>
</div>

<!-- Zone bouton / message -->
<div id="playArea" class="mb-4 text-xl font-bold"></div>
<div id="result" class="mb-6 text-xl font-bold"></div>

<!-- R√©seaux sociaux -->
<h2 class="text-xl mb-4 font-semibold">On oublie pas de s'abonner</h2>
<div class="grid grid-cols-1 sm:grid-cols-3 gap-4 w-full max-w-2xl">
  <a href="https://www.facebook.com/profile.php?id=61569076876790" target="_blank" class="flex items-center justify-center gap-2 p-4 bg-gray-800 hover:bg-blue-600 rounded-md transition">
    <i class="fab fa-facebook-f text-2xl text-blue-500"></i> Facebook
  </a>
  <a href="https://www.instagram.com/shotys_officiel/" target="_blank" class="flex items-center justify-center gap-2 p-4 bg-gray-800 hover:bg-pink-500 rounded-md transition">
    <i class="fab fa-instagram text-2xl text-pink-500"></i> Instagram
  </a>
  <a href="https://www.tiktok.com/@shotys_officiel?lang=fr" target="_blank" class="flex items-center justify-center gap-2 p-4 bg-gray-800 hover:bg-black rounded-md transition">
    <i class="fab fa-tiktok text-2xl"></i> TikTok
  </a>
</div>

<script>
const wheel = document.getElementById('wheel');
const resultDiv = document.getElementById('result');
const playArea = document.getElementById('playArea');

const sections = [
  { name: "Melon", taste: "Doux et frais", img: "üçà" },
  { name: "Pomme", taste: "Croquant et sucr√©", img: "üçé" },
  { name: "Cuberdon", taste: "Bonbon belge typique", img: "üç¨" },
  { name: "Violette", taste: "Fruit√© et parfum√©", img: "üçá" },
  { name: "Citron", taste: "Acidul√© et frais", img: "üçã" },
  { name: "Perdu", taste: "Oh non ! Perdu", img: "üíÄ" }
];

const weights = [8,8,8,8,8,60];
let totalDeg = 0;

function showButton() {
  playArea.innerHTML = `<button id="spinBtn" class="px-6 py-3 bg-orange-500 hover:bg-orange-600 rounded-md text-white font-semibold transition-shadow shadow-md hover:shadow-lg">
    Lancer la roue
  </button>`;
  document.getElementById('spinBtn').addEventListener('click', spinWheel);
}

function spinWheel() {
  if(localStorage.getItem('played')) return;

  const rand = Math.random() * 100;
  let sum = 0;
  let chosenIndex = 0;
  for(let i=0;i<weights.length;i++){
    sum += weights[i];
    if(rand <= sum){ chosenIndex = i; break; }
  }

  const sectionSize = 360 / sections.length;
  const minAngle = chosenIndex * sectionSize;
  const maxAngle = (chosenIndex + 1) * sectionSize;
  const spins = 10;
  const deg = spins * 360 + (Math.random() * (maxAngle - minAngle) + minAngle);
  totalDeg += deg;
  wheel.style.transform = `rotate(${totalDeg}deg)`;

  playArea.innerHTML = '';
  setTimeout(() => {
    const section = sections[chosenIndex];
    resultDiv.textContent = `${section.img} ${section.name} - ${section.taste}`;
    localStorage.setItem('played','yes');
    playArea.textContent = "Vous avez d√©j√† jou√© !";
  }, 4000);
}

if(localStorage.getItem('played')){
  playArea.textContent = "Vous avez d√©j√† jou√© !";
}else{
  showButton();
}
</script>
</body>
</html>
